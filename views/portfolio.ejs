<section id="portfolioSection" class="mainSection">
  <article>
    <div class="oddRow">
      <h2 class="contentLine">Script Kiddie</h2>
      <div class="line contentLine">
      <%
        var items = [{
              'url': 'TODO: Get real URL',
              'imgSrc': 'public/images/github.png',
              'name': 'GitHub',
              'timePeriod': 'July 2011 - Present'
            }, {
              'url': 'TODO: Get real URL',
              'imgSrc': 'public/images/mouse.png',
              'name': 'Mouse Tracker',
              'timePeriod': 'March 2011'
            }, {
              'url': 'TODO: Get real URL',
              'imgSrc': 'public/images/canvas.png',
              'name': 'Canvas Drawer',
              'timePeriod': 'March 2011' // TODO: Confirm date
            }],
            item,
            name,
            i,
            len,
            finalIndex;
        for (i = 0, len = items.length, finalIndex = len - 1; i < len; i++ ) {
          item = items[i];
          name = item.name;
      %>
        <div class="unit <%if(i!==finalIndex){%>size1of3<%}else{%>lastUnit<%}%>">
          <figure class="featureItem">
            <a href="<%=item.url%>">
              <img src="<%=item.imgSrc%>" alt="<%=name%>" />
              <figcaption>
                <h3><%=name%></h3>
                <%=item.timePeriod%>
              </figcaption>
            </a>
          </figure>
        </div>
      <%
        }
      %>
      </div>
    </div>
  </article>
  <article>
    <%
    var freelanceItems = [{
          'imgSrc': 'public/images/github.png',
          'name': 'CSS Off',
          'caption': 'Most recent active competition',
          'timePeriod': 'October 2011'
        }, {
          'imgSrc': 'public/images/mouse.png',
          'name': 'The Worry Chest System',
          'caption': 'Last freelance client',
          'timePeriod': 'TODO: REAL DATE'
        }, {
          'imgSrc': 'public/images/mouse.png',
          'name': 'His Creative Designs',
          'caption': '',
          'timePeriod': 'TODO: REAL DATE'
        }, {
          'imgSrc': 'public/images/canvas.png',
          'name': 'Celebrations Consulting',
          'caption': '',
          'timePeriod': 'TODO: REAL DATE'
        }, {
          'imgSrc': 'public/images/canvas.png',
          'name': 'Banyan Connections',
          'caption': '',
          'timePeriod': 'TODO: REAL DATE'
        }, {
          'imgSrc': 'public/images/github.png',
          'name': 'Bubbles Auto Care', // TODO: Verify actual name
          'caption': '',
          'timePeriod': 'TODO: REAL DATE'
        }, {
          'imgSrc': 'public/images/mouse.png',
          'name': 'Millburn High School',
          'caption': 'Never forget your first',
          'timePeriod': 'February 2005 - June 2007'
        }],
        freelanceSlice,
        rowCount,
        i,
        len,
        item,
        name,
        j,
        len2,
        finalIndex;

    for (rowCount = 0; len = freelanceItems.length, len > 0; rowCount++) {
      i = len;
      // If more than 3 items remain, use 2 or 3 depending on the row distance
      if (len > 3) {
        i = (len % 3 ? 2 : 3);
      }

      // Grab the next slice
      freelanceSlice = freelanceItems.splice(0, i);
    %>
      <div class="<%=rowCount^1?"even":"odd"%>Row">
        <div class="line contentLine">
        <%
          if (rowCount === 0) {
        %>
          <h2>Freelance</h2>
        </div>
        <div class="line contentLine">
        <%
          }
        %>
        <%
          for (j = 0, len2 = freelanceSlice.length, finalIndex = len2 - 1; j < len2; j++ ) {
            item = freelanceSlice[j];
            name = item.name;
        %>
          <div class="unit <%if(j!==finalIndex){%>size1of<%=len2%><%}else{%>lastUnit<%}%>">
            <figure class="featureItem">
              <img src="<%=item.imgSrc%>" alt="<%=name%>" />
              <figcaption>
                <h3><%=name%></h3>
                <%=item.timePeriod%>
              </figcaption>
            </figure>
          </div>
        <%
          }
        %>
        </div>
      </div>
    <%
    }
    %>
  </article>
</section>